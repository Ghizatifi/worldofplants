{"version":3,"sources":["./src/app/pages/orders/orders.page.html","./src/app/pages/orders/orders.module.ts","./src/app/pages/orders/orders.page.scss","./src/app/pages/orders/orders.page.ts"],"names":[],"mappings":"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","file":"orders-orders-module-es5.js","sourcesContent":["module.exports = \"<app-header2 [hide_back_button]=\\\"true\\\" [pageName]=\\\"my_orders\\\"></app-header2>\\n<ion-content class=\\\"ion-padding\\\">\\n<div class=\\\"bordered\\\">\\n  <ion-segment \\n[(ngModel)]=\\\"screen\\\"\\ndir=\\\"rtl\\\">\\n  <ion-segment-button \\n  (ionSelect)=\\\"slide(i)\\\"\\n  *ngFor=\\\"let cat of categories; index as i\\\"\\n  value=\\\"{{i}}\\\">\\n    <ion-label *ngIf=\\\"config.translate.currentLang!='en'\\\">{{cat.name_ar}}</ion-label>\\n    <ion-label *ngIf=\\\"config.translate.currentLang=='en'\\\">{{cat.name_en}}</ion-label>\\n  </ion-segment-button>\\n</ion-segment> \\n</div>\\n<ion-slides \\n#slider\\n(ionSlideDidChange)=\\\"handleChange();\\\" \\n(ionSlidesDidLoad)=\\\"sliderLoaded()\\\"\\ndir=\\\"ltr\\\">\\n\\n  <ion-slide *ngFor=\\\"let cat of categories\\\" dir=\\\"rtl\\\">\\n   \\n    <ion-item text-center *ngIf=\\\"cat.orders.length==0\\\">\\n      <ion-label text-center>{{\\\"no_orders\\\" | translate}}</ion-label>\\n    </ion-item>\\n    <ion-grid>\\n      <div  *ngFor=\\\"let order of cat.orders\\\" class=\\\"order_container\\\">\\n        <ion-row>\\n          <ion-col size=\\\"8\\\" class=\\\"flex\\\">\\n            {{\\\"order_number\\\" | translate}}#{{order.id}}\\n          </ion-col>\\n          <ion-col>\\n            <div (click)=\\\"track(order.id)\\\" style=\\\"border-radius: 50px; border: 1px solid var(--ion-color-secondary); text-align: center; padding: 0 1px; color: var(--ion-color-secondary);\\\">\\n              {{\\\"track_order\\\" | translate}}\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col  class=\\\"flex\\\">\\n          <ion-icon style=\\\"color: grey\\\" name=\\\"alarm\\\"></ion-icon>\\n          <p style=\\\"margin: 0 10px;\\\">{{order.created_at | date}}</p>\\n          <ion-icon style=\\\"color: grey\\\" src=\\\"assets/images/icons/dolar.svg\\\"></ion-icon>\\n          <p style=\\\"margin: 0 10px;\\\">{{order.d_price}}</p>\\n          </ion-col>\\n         \\n        </ion-row>\\n      </div>\\n      \\n    </ion-grid>\\n  </ion-slide>\\n</ion-slides>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrdersPage } from './orders.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { SharedModule } from 'src/app/modules/shared/shared.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrdersPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SharedModule ,\n    RouterModule.forChild(routes),\n    TranslateModule.forChild()\n  ],\n  declarations: [OrdersPage]\n})\nexport class OrdersPageModule {}\n","module.exports = \"ion-item {\\n  margin-top: 2%;\\n}\\n\\n.status {\\n  width: 25%;\\n  height: 100%;\\n  margin-left: 3%;\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  color: white;\\n  font-size: 35px;\\n}\\n\\n.flex {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-align: center;\\n          align-items: center;\\n}\\n\\n.order_container {\\n  margin-top: 15px;\\n  padding: 10px;\\n  border: 0.5px #d1d1d15e solid;\\n  border-radius: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9naGl6bGFuZS9Eb3dubG9hZHMvcGxhbnRzX2FwcF9hbmRyb2lkL3dvcmxkb2ZwbGFudHMvc3JjL2FwcC9wYWdlcy9vcmRlcnMvb3JkZXJzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvb3JkZXJzL29yZGVycy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0FDQ0o7O0FEQ0E7RUFDSSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0VBQ0Esd0JBQUE7VUFBQSx1QkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FDRUo7O0FES0E7RUFDSSxvQkFBQTtFQUFBLGFBQUE7RUFDQSx5QkFBQTtVQUFBLG1CQUFBO0FDRko7O0FES0E7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLGtCQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9vcmRlcnMvb3JkZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pdGVtIHtcbiAgICBtYXJnaW4tdG9wOiAyJTtcbn1cbi5zdGF0dXMge1xuICAgIHdpZHRoOiAyNSU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIG1hcmdpbi1sZWZ0OiAzJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGZvbnQtc2l6ZTogMzVweDtcbn1cblxuaW9uLXNlZ21lbnR7XG4gICAgLy8gYm9yZGVyOiAycHggI2UzZTNlMyBzb2xpZDtcbiAgICAvLyBib3JkZXItcmFkaXVzOiA1cHg7XG59XG4uZmxleCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ub3JkZXJfY29udGFpbmVye1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXI6IDAuNXB4ICNkMWQxZDE1ZSBzb2xpZDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG59IiwiaW9uLWl0ZW0ge1xuICBtYXJnaW4tdG9wOiAyJTtcbn1cblxuLnN0YXR1cyB7XG4gIHdpZHRoOiAyNSU7XG4gIGhlaWdodDogMTAwJTtcbiAgbWFyZ2luLWxlZnQ6IDMlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDM1cHg7XG59XG5cbi5mbGV4IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLm9yZGVyX2NvbnRhaW5lciB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlcjogMC41cHggI2QxZDFkMTVlIHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FetchService } from '../../services/fetch.service';\nimport { ConfigService } from '../../services/config.service';\nimport { HttpHeaders } from '@angular/common/http';\nimport { IonSlides, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.page.html',\n  styleUrls: ['./orders.page.scss'],\n})\nexport class OrdersPage implements OnInit {\n  public orders:any = [];\n  categories = [\n    {\n      id:0 ,\n      name_en : 'Current' ,\n      name_ar : 'الحالية' ,\n      orders : []\n    } ,\n    {\n      id:1 ,\n      name_en : 'Completed' ,\n      name_ar : 'المكتملة' ,\n      orders : []\n    } ,\n    {\n      id:2 ,\n      name_en :  'Canceled' ,\n      name_ar : 'الملغاة' ,\n      orders : []\n    } ,\n\n  ]\n  @ViewChild('slider', null) slider: IonSlides;\n  public screen:any = 0;\n  constructor(\n    private fetch: FetchService,\n    private config: ConfigService,\n    private navCtrl: NavController\n  ) { }\n\n  ngOnInit() {\n    \n  }\n\n  ionViewDidEnter(){\n    this.getOrders();\n    this.screen = 0;\n    this.slide(this.categories.length-1)\n  }\n  public sliderLoaded() {\n    this.toggleSlider(true);\n  }\n  public async handleChange() {\n    this.screen = await this.slider.getActiveIndex();\n  }\n  public slide(index) {\n    console.log(\"Slide to:\", index);\n    this.toggleSlider(false);    \n    this.slider.slideTo(index);\n    this.toggleSlider(true);    \n  }   \n\n  public toggleSlider(condition:boolean) {\n    this.slider.lockSwipeToNext(condition);\n    this.slider.lockSwipeToPrev(condition);\n  }\n\n  public getOrders() {\n    let headers = new HttpHeaders().set(\"Authorization\", \"Bearer \" + this.config.token);\n    this.fetch.get('auth/orders', headers)\n    .then((data)=> {\n      this.orders = data;\n\n      if (data){\n        this.categories[0].orders = this.orders.filter((order)=>  order.statusCode == 1 || order.statusCode == 2 || order.statusCode == 3)\n        this.categories[1].orders = this.orders.filter((order)=>order.statusCode == 4 )\n        this.categories[2].orders = this.orders.filter((order)=> order.statusCode == 0)\n      }\n    })\n  }\n\n  public orderTotal(order) {\n    let total = 0;\n    for (let item of order.items) {\n      total+= item.product.price*item.quantity;\n    }\n    return total;\n  }\n\n  public orderProducts(order) {\n    let names = \"\";\n    for (let item of order.items) {\n      names+= \" ,\" + item.product.name;\n    }\n    return names;\n  }\n\n  public track(order_id) {\n    this.navCtrl.navigateForward('order/' + order_id);\n  }\n\n}\n"],"sourceRoot":""}